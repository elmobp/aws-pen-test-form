package com.gu.pentest

import com.amazonaws.regions.{Regions, Region}
import org.scalatest.{FreeSpec, Matchers, OptionValues}

class MainTest extends FreeSpec with Matchers with OptionValues {
  "argParser" - {
    "parses a valid region as the first argument" in {
      Main.argParser.parse(Seq("eu-west-1"), Arguments()).value should have (
        'region (Region.getRegion(Regions.EU_WEST_1))
      )
    }

    "fails if given an invalid AWS region as first argument" in {
      Main.argParser.parse(Seq("not a valid region"), Arguments()) shouldEqual None
    }
  }
}
